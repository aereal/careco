# yaml-language-server: $schema=./tests.schema.json
---
cases:
  'query totalStatistics/ok':
    request:
      query: |
        {
          totalStatistics {
            distanceKilometers
          }
        }
    response:
      data:
        totalStatistics:
          distanceKilometers: 45678
  'query recentDrivingRecords/ok':
    request:
      query: |
        query GetLatest($first: Int!) {
          recentDrivingRecords(first: $first) {
            recordedAt
            memo
            distanceKilometers
          }
        }
      variables:
        first: 4
    response:
      data:
        recentDrivingRecords:
          - distanceKilometers: 0
            recordedAt: '2025-10-03T12:34:56+00:00'
            memo: null
          - distanceKilometers: 12
            recordedAt: '2025-10-02T12:34:56+00:00'
            memo: blah blah
          - distanceKilometers: 24
            recordedAt: '2025-10-01T12:34:56+00:00'
            memo: null
          - distanceKilometers: 36
            recordedAt: '2025-09-30T12:34:56+00:00'
            memo: blah blah
  'query monthlyReport/ok':
    request:
      query: |
        query GetMonthly($year: Int!, $month: Month!) {
          monthlyReport(year: $year, month: $month) {
            year
            month
            distanceKilometers
            dailyReports {
              year
              month
              day
              distanceKilometers
            }
          }
        }
      variables:
        year: 2025
        month: OCTOBER
    response:
      data:
        monthlyReport:
          year: 2025
          month: OCTOBER
          distanceKilometers: 36
          dailyReports:
            -
              distanceKilometers: 0
              year: 2025
              month: OCTOBER
              day: 3
            -
              distanceKilometers: 12
              year: 2025
              month: OCTOBER
              day: 2
            -
              distanceKilometers: 24
              year: 2025
              month: OCTOBER
              day: 1
  'query yearlyReport/ok':
    request:
      query: |
        query GetYearly($year: Int!) {
          yearlyReport(year: $year) {
            year
            distanceKilometers
            monthlyReports {
              year
              month
              distanceKilometers
              dailyReports {
                year
                month
                day
                distanceKilometers
              }
            }
          }
        }
      variables:
        year: 2025
    response:
      data:
        yearlyReport:
          year: 2025
          distanceKilometers: 72
          monthlyReports:
            - month: OCTOBER
              year: 2025
              distanceKilometers: 36
              dailyReports:
                -
                  distanceKilometers: 0
                  year: 2025
                  month: OCTOBER
                  day: 3
                -
                  distanceKilometers: 12
                  year: 2025
                  month: OCTOBER
                  day: 2
                -
                  distanceKilometers: 24
                  year: 2025
                  month: OCTOBER
                  day: 1
            - month: SEPTEMBER
              year: 2025
              distanceKilometers: 36
              dailyReports:
                -
                  distanceKilometers: 0
                  year: 2025
                  month: SEPTEMBER
                  day: 30
                -
                  distanceKilometers: 12
                  year: 2025
                  month: SEPTEMBER
                  day: 29
                -
                  distanceKilometers: 24
                  year: 2025
                  month: SEPTEMBER
                  day: 28
  'mutation recordDrivingRecord/ok':
    request:
      query: |
        mutation Record($date: DateTime!, $distance: Int!, $memo: String) {
          recordDrivingRecord(date: $date, distanceKilometers: $distance, memo: $memo)
        }
      variables:
        date: '2025-10-03T00:00:00+00:00'
        distance: 12
    response:
      data:
        recordDrivingRecord: true
